<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jinhe.modules.system.dao.SysResourceMapper">
    <select id="selectSysResourcepage"  resultType="com.jinhe.modules.system.dto.SysResourceDto">
          SELECT * from sys_resource
    </select>

    <select id="selectSysResourceOne"  resultType="com.jinhe.modules.system.dto.SysResourceDto">
        SELECT * from sys_resource where id = #{ID,jdbcType=VARCHAR}
    </select>

    <select id="selectsysresTree" parameterType="java.util.HashMap" resultType="com.jinhe.modules.system.entity.SysResource">
        WITH recursive td AS (
        SELECT * FROM sys_resource
        WHERE
        PARENT_ID IS NULL or PARENT_ID = '' UNION ALL SELECT d.* FROM sys_resource d,td WHERE d.PARENT_ID = td.id
        ) SELECT
        *
        FROM
        td;
    </select>
</mapper>
